{"version":3,"file":"index.js","sources":["pages/admin/index/index.vue","../../../GameDo/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRtaW4vaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <view class=\"admin-dashboard-container\">\r\n    <!-- 顶部导航区 -->\r\n    <TopBar title=\"管理后台\" :showBack=\"false\" :withBorder=\"true\" />\r\n    <AdminNavBar currentPath=\"/pages/admin/index/index\" />\r\n    \r\n    <!-- 统计数据卡片区 -->\r\n    <view class=\"stats-row\">\r\n      <view class=\"stats-card\" @click=\"navigateTo('/pages/admin/product/list')\">\r\n        <view class=\"stats-icon\" style=\"background-color: #e3f2fd;\">\r\n          <image src=\"/static/images/product-icon.png\" mode=\"aspectFit\" />\r\n        </view>\r\n        <view class=\"stats-content\">\r\n          <text class=\"stats-title\">产品总数</text>\r\n          <text class=\"stats-value\">{{ stats.productCount }}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"stats-card\" @click=\"navigateTo('/pages/admin/quote/list')\">\r\n        <view class=\"stats-icon\" style=\"background-color: #e8f5e9;\">\r\n          <image src=\"/static/images/price.png\" mode=\"aspectFit\" />\r\n        </view>\r\n        <view class=\"stats-content\">\r\n          <text class=\"stats-title\">报价总数</text>\r\n          <text class=\"stats-value\">{{ stats.quoteCount }}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"stats-card\" @click=\"navigateTo('/pages/admin/user/list')\">\r\n        <view class=\"stats-icon\" style=\"background-color: #fff3e0;\">\r\n          <image src=\"/static/images/user-icon.png\" mode=\"aspectFit\" />\r\n        </view>\r\n        <view class=\"stats-content\">\r\n          <text class=\"stats-title\">用户总数</text>\r\n          <text class=\"stats-value\">{{ stats.userCount }}</text>\r\n        </view>\r\n      </view>\r\n      \r\n      <view class=\"stats-card\" @click=\"navigateTo('/pages/admin/message/list')\">\r\n        <view class=\"stats-icon\" style=\"background-color: #e1f5fe;\">\r\n          <image src=\"/static/images/message-icon.png\" mode=\"aspectFit\" />\r\n        </view>\r\n        <view class=\"stats-content\">\r\n          <text class=\"stats-title\">未读消息</text>\r\n          <text class=\"stats-value\">{{ stats.unreadMessages }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 快速导航区 -->\r\n    <view class=\"section-title\">快速导航</view>\r\n    <view class=\"quick-nav-grid\">\r\n      <view class=\"nav-item\" v-for=\"(item, index) in navItems\" :key=\"index\" @click=\"navigateTo(item.path)\">\r\n        <image :src=\"item.icon\" class=\"nav-icon\" mode=\"aspectFit\" />\r\n        <text class=\"nav-text\">{{ item.name }}</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 最新报价区 -->\r\n    <view class=\"section-title\">最新报价</view>\r\n    <view class=\"recent-quotes\">\r\n      <view class=\"quote-item\" v-for=\"(quote, index) in recentQuotes\" :key=\"index\" @click=\"viewQuoteDetail(quote.quote_id, quote.product_id)\">\r\n        <view class=\"quote-header\">\r\n          <text class=\"quote-product\">{{ quote.product_name }}</text>\r\n          <text class=\"quote-status\" :class=\"quote.status\">{{ getStatusText(quote.status) }}</text>\r\n        </view>\r\n        <view class=\"quote-info\">\r\n          <text class=\"quote-user\">供应商: {{ quote.username }}</text>\r\n          <text class=\"quote-price\">¥{{ quote.price.toFixed(2) }}</text>\r\n        </view>\r\n        <view class=\"quote-footer\">\r\n          <text class=\"quote-date\">{{ formatDate(quote.created_at) }}</text>\r\n          <text class=\"view-detail\">查看详情 ></text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <LoadingAnimation :loading=\"loading\" />\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport TopBar from '../../../components/TopBar.vue'\r\nimport AdminNavBar from '../../../components/AdminNavBar.vue'\r\nimport LoadingAnimation from '../../../components/LoadingAnimation.vue'\r\n\r\nexport default {\r\n  name: 'AdminDashboard',\r\n  components: { TopBar, AdminNavBar, LoadingAnimation },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      stats: {\r\n        productCount: 0,\r\n        quoteCount: 0,\r\n        userCount: 0,\r\n        unreadMessages: 0\r\n      },\r\n      navItems: [\r\n        { name: '产品管理', path: '/pages/admin/product/list', icon: '/static/images/product-icon.png' },\r\n        { name: '报价管理', path: '/pages/admin/quote/list', icon: '/static/images/price.png' },\r\n        { name: '用户管理', path: '/pages/admin/user/list', icon: '/static/images/user-icon.png' },\r\n        { name: '消息中心', path: '/pages/admin/message/list', icon: '/static/images/message-icon.png' },\r\n        { name: '系统设置', path: '/pages/admin/profile/settings', icon: '/static/images/settings-icon.png' }\r\n      ],\r\n      recentQuotes: []\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchDashboardData()\r\n  },\r\n  methods: {\r\n    fetchDashboardData() {\r\n      this.loading = true\r\n      \r\n      // 模拟加载统计数据\r\n      setTimeout(() => {\r\n        this.stats = {\r\n          productCount: 127,\r\n          quoteCount: 358,\r\n          userCount: 86,\r\n          unreadMessages: 12\r\n        }\r\n        \r\n        // 模拟最近报价数据\r\n        this.recentQuotes = [\r\n          {\r\n            quote_id: 'Q10001',\r\n            product_id: 'P1001',\r\n            product_name: '智能手表',\r\n            username: '李四',\r\n            price: 1280.00,\r\n            status: 'pending',\r\n            created_at: '2023-08-25T09:30:00Z'\r\n          },\r\n          {\r\n            quote_id: 'Q10002',\r\n            product_id: 'P1002',\r\n            product_name: '蓝牙耳机',\r\n            username: '王五',\r\n            price: 299.00,\r\n            status: 'approved',\r\n            created_at: '2023-08-24T16:45:00Z'\r\n          },\r\n          {\r\n            quote_id: 'Q10003',\r\n            product_id: 'P1003',\r\n            product_name: '智能音箱',\r\n            username: '赵六',\r\n            price: 799.00,\r\n            status: 'rejected',\r\n            created_at: '2023-08-24T10:20:00Z'\r\n          },\r\n          {\r\n            quote_id: 'Q10004',\r\n            product_id: 'P1004',\r\n            product_name: '无线充电器',\r\n            username: '钱七',\r\n            price: 159.00,\r\n            status: 'pending',\r\n            created_at: '2023-08-23T14:10:00Z'\r\n          }\r\n        ]\r\n        \r\n        this.loading = false\r\n      }, 300) // 减少加载时间以提高响应速度\r\n    },\r\n    navigateTo(path) {\r\n      uni.navigateTo({\r\n        url: path,\r\n        fail: () => {\r\n          // 如果navigateTo失败，尝试switchTab\r\n          uni.switchTab({\r\n            url: path,\r\n            fail: (err) => {\r\n              console.error('导航失败:', err)\r\n              uni.showToast({\r\n                title: '页面跳转失败',\r\n                icon: 'none'\r\n              })\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    viewQuoteDetail(quoteId, productId) {\r\n      uni.navigateTo({\r\n        url: `/pages/admin/quote/detail?id=${quoteId}&productId=${productId}`\r\n      })\r\n    },\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        'pending': '待审核',\r\n        'approved': '已通过',\r\n        'rejected': '已拒绝'\r\n      }\r\n      return statusMap[status] || status\r\n    },\r\n    formatDate(dateString) {\r\n      const date = new Date(dateString)\r\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.admin-dashboard-container {\r\n  padding-bottom: 30rpx;\r\n  \r\n  .stats-row {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    padding: 20rpx;\r\n  }\r\n  \r\n  .stats-card {\r\n    width: calc(50% - 20rpx);\r\n    background-color: #fff;\r\n    border-radius: 12rpx;\r\n    box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n    margin: 10rpx;\r\n    padding: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    .stats-icon {\r\n      width: 80rpx;\r\n      height: 80rpx;\r\n      border-radius: 16rpx;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      margin-right: 20rpx;\r\n      \r\n      image {\r\n        width: 48rpx;\r\n        height: 48rpx;\r\n      }\r\n    }\r\n    \r\n    .stats-content {\r\n      flex: 1;\r\n      \r\n      .stats-title {\r\n        font-size: 26rpx;\r\n        color: #666;\r\n      }\r\n      \r\n      .stats-value {\r\n        font-size: 36rpx;\r\n        color: #333;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .section-title {\r\n    font-size: 30rpx;\r\n    font-weight: 500;\r\n    color: #333;\r\n    margin: 30rpx 20rpx 20rpx;\r\n  }\r\n  \r\n  .quick-nav-grid {\r\n    padding: 0 10rpx;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    \r\n    .nav-item {\r\n      width: calc(33.33% - 20rpx);\r\n      margin: 10rpx;\r\n      height: 180rpx;\r\n      background-color: #fff;\r\n      border-radius: 12rpx;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: center;\r\n      box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n      \r\n      .nav-icon {\r\n        width: 64rpx;\r\n        height: 64rpx;\r\n        margin-bottom: 16rpx;\r\n      }\r\n      \r\n      .nav-text {\r\n        font-size: 28rpx;\r\n        color: #333;\r\n      }\r\n    }\r\n  }\r\n  \r\n  .recent-quotes {\r\n    padding: 0 20rpx;\r\n    \r\n    .quote-item {\r\n      background-color: #fff;\r\n      border-radius: 12rpx;\r\n      padding: 20rpx;\r\n      margin-bottom: 20rpx;\r\n      box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n      \r\n      .quote-header {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin-bottom: 16rpx;\r\n        \r\n        .quote-product {\r\n          font-size: 30rpx;\r\n          font-weight: 500;\r\n          color: #333;\r\n        }\r\n        \r\n        .quote-status {\r\n          font-size: 24rpx;\r\n          padding: 4rpx 16rpx;\r\n          border-radius: 30rpx;\r\n          \r\n          &.pending {\r\n            background-color: #fff8e1;\r\n            color: #ff8f00;\r\n          }\r\n          \r\n          &.approved {\r\n            background-color: #e8f5e9;\r\n            color: #43a047;\r\n          }\r\n          \r\n          &.rejected {\r\n            background-color: #ffebee;\r\n            color: #e53935;\r\n          }\r\n        }\r\n      }\r\n      \r\n      .quote-info {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        margin-bottom: 16rpx;\r\n        \r\n        .quote-user {\r\n          font-size: 26rpx;\r\n          color: #666;\r\n        }\r\n        \r\n        .quote-price {\r\n          font-size: 28rpx;\r\n          color: #f44336;\r\n          font-weight: 500;\r\n        }\r\n      }\r\n      \r\n      .quote-footer {\r\n        .quote-date {\r\n          font-size: 24rpx;\r\n          color: #999;\r\n        }\r\n        .view-detail {\r\n          font-size: 24rpx;\r\n          color: #999;\r\n          margin-left: 16rpx;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style> ","import MiniProgramPage from 'D:/orderMySelf/product-price/product-price/pages/admin/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}