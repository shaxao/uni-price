{"version":3,"file":"FilterBar.js","sources":["components/FilterBar.vue","../../../GameDo/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDovb3JkZXJNeVNlbGYvcHJvZHVjdC1wcmljZS9wcm9kdWN0LXByaWNlL2NvbXBvbmVudHMvRmlsdGVyQmFyLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"filter-bar-container\">\n    <!-- 标题栏筛选按钮 -->\n    <view class=\"filter-header\" @click=\"openDrawer\">\n      <text class=\"filter-title\">筛选</text>\n      <text class=\"filter-icon\">▾</text>\n      <view class=\"active-badge\" v-if=\"hasActiveFilters\"></view>\n    </view>\n    \n    <!-- 侧边抽屉 -->\n    <view class=\"filter-drawer\" :class=\"{ 'drawer-open': drawerVisible }\">\n      <view class=\"drawer-mask\" @click=\"closeDrawer\" v-if=\"drawerVisible\"></view>\n      <view class=\"drawer-content\">\n        <view class=\"drawer-header\">\n          <text class=\"drawer-title\">筛选条件</text>\n          <text class=\"close-icon\" @click=\"closeDrawer\">×</text>\n        </view>\n        \n        <!-- 价格排序 -->\n        <view class=\"filter-section\">\n          <text class=\"section-title\">价格排序</text>\n          <view class=\"option-list\">\n            <view \n              class=\"option-item\" \n              v-for=\"(item, index) in priceOptions\" \n              :key=\"`price-${index}`\"\n              :class=\"{ active: filters.priceSort === item.value }\"\n              @click=\"selectPriceSort(item.value)\"\n            >\n              <text class=\"option-text\">{{ item.label }}</text>\n              <text class=\"check-icon\" v-if=\"filters.priceSort === item.value\">✓</text>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 截止日期排序 -->\n        <view class=\"filter-section\">\n          <text class=\"section-title\">截止日期</text>\n          <view class=\"option-list\">\n            <view \n              class=\"option-item\" \n              v-for=\"(item, index) in dateOptions\" \n              :key=\"`date-${index}`\"\n              :class=\"{ active: filters.dateSort === item.value }\"\n              @click=\"selectDateSort(item.value)\"\n            >\n              <text class=\"option-text\">{{ item.label }}</text>\n              <text class=\"check-icon\" v-if=\"filters.dateSort === item.value\">✓</text>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 产品类型 -->\n        <view class=\"filter-section\">\n          <text class=\"section-title\">产品类型</text>\n          <view class=\"tag-list\">\n            <view \n              v-for=\"(tag, index) in productTypes\" \n              :key=\"`type-${index}`\"\n              class=\"filter-tag\" \n              :class=\"{ active: filters.productTypes.includes(tag.value) }\"\n              @click=\"toggleProductType(tag.value)\"\n            >\n              <text>{{ tag.label }}</text>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 重量范围 -->\n        <view class=\"filter-section\">\n          <text class=\"section-title\">重量范围</text>\n          <view class=\"range-slider\">\n            <view class=\"range-values\">\n              <text>{{ filters.weightRange[0] }}kg</text>\n              <text>{{ filters.weightRange[1] }}kg</text>\n            </view>\n            <slider \n              class=\"slider\" \n              :min=\"0\"\n              :max=\"1000\"\n              :value=\"filters.weightRange[0]\"\n              @change=\"onMinWeightChange\"\n            />\n            <slider \n              class=\"slider\" \n              :min=\"0\"\n              :max=\"1000\"\n              :value=\"filters.weightRange[1]\"\n              @change=\"onMaxWeightChange\"\n            />\n          </view>\n        </view>\n        \n        <view class=\"drawer-footer\">\n          <button class=\"reset-btn\" @click=\"resetFilters\">重置</button>\n          <button class=\"apply-btn\" @click=\"applyFilters\">应用筛选</button>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 激活的筛选条件标签 -->\n    <view class=\"active-filters\" v-if=\"hasActiveFilters && showActiveTags\">\n      <view class=\"filter-tag active\" v-if=\"filters.priceSort !== 'default'\">\n        <text>{{ getPriceSortLabel(filters.priceSort) }}</text>\n        <text class=\"tag-close\" @click=\"clearPriceSort\">×</text>\n      </view>\n      <view class=\"filter-tag active\" v-if=\"filters.dateSort !== 'default'\">\n        <text>{{ getDateSortLabel(filters.dateSort) }}</text>\n        <text class=\"tag-close\" @click=\"clearDateSort\">×</text>\n      </view>\n      <view \n        class=\"filter-tag active\" \n        v-for=\"(type, index) in filters.productTypes\" \n        :key=\"`active-${index}`\"\n      >\n        <text>{{ getProductTypeLabel(type) }}</text>\n        <text class=\"tag-close\" @click=\"removeProductType(type)\">×</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  name: 'FilterBar',\n  props: {\n    showActiveTags: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      drawerVisible: false,\n      filters: {\n        priceSort: 'default',\n        dateSort: 'default',\n        productTypes: [],\n        weightRange: [0, 500]\n      },\n      priceOptions: [\n        { label: '默认排序', value: 'default' },\n        { label: '价格从低到高', value: 'asc' },\n        { label: '价格从高到低', value: 'desc' }\n      ],\n      dateOptions: [\n        { label: '默认排序', value: 'default' },\n        { label: '截止日期最近', value: 'asc' },\n        { label: '截止日期最远', value: 'desc' }\n      ],\n      productTypes: [\n        { label: '电子产品', value: 'electronics' },\n        { label: '服装', value: 'clothing' },\n        { label: '家居', value: 'home' },\n        { label: '玩具', value: 'toys' },\n        { label: '运动户外', value: 'sports' },\n        { label: '美容个护', value: 'beauty' },\n        { label: '食品', value: 'food' },\n        { label: '书籍', value: 'books' }\n      ]\n    }\n  },\n  computed: {\n    hasActiveFilters() {\n      return this.filters.priceSort !== 'default' || \n             this.filters.dateSort !== 'default' ||\n             this.filters.productTypes.length > 0 ||\n             this.filters.weightRange[0] > 0 ||\n             this.filters.weightRange[1] < 500\n    }\n  },\n  methods: {\n    openDrawer() {\n      this.drawerVisible = true\n    },\n    closeDrawer() {\n      this.drawerVisible = false\n    },\n    selectPriceSort(value) {\n      this.filters.priceSort = value\n    },\n    selectDateSort(value) {\n      this.filters.dateSort = value\n    },\n    toggleProductType(value) {\n      const index = this.filters.productTypes.indexOf(value)\n      if (index > -1) {\n        this.filters.productTypes.splice(index, 1)\n      } else {\n        this.filters.productTypes.push(value)\n      }\n    },\n    onMinWeightChange(e) {\n      const value = e.detail.value\n      if (value > this.filters.weightRange[1]) {\n        this.filters.weightRange[0] = this.filters.weightRange[1]\n      } else {\n        this.filters.weightRange[0] = value\n      }\n    },\n    onMaxWeightChange(e) {\n      const value = e.detail.value\n      if (value < this.filters.weightRange[0]) {\n        this.filters.weightRange[1] = this.filters.weightRange[0]\n      } else {\n        this.filters.weightRange[1] = value\n      }\n    },\n    resetFilters() {\n      this.filters = {\n        priceSort: 'default',\n        dateSort: 'default',\n        productTypes: [],\n        weightRange: [0, 500]\n      }\n    },\n    applyFilters() {\n      this.$emit('filter', { ...this.filters })\n      this.closeDrawer()\n    },\n    clearPriceSort() {\n      this.filters.priceSort = 'default'\n      this.$emit('filter', { ...this.filters })\n    },\n    clearDateSort() {\n      this.filters.dateSort = 'default'\n      this.$emit('filter', { ...this.filters })\n    },\n    removeProductType(type) {\n      const index = this.filters.productTypes.indexOf(type)\n      if (index > -1) {\n        this.filters.productTypes.splice(index, 1)\n        this.$emit('filter', { ...this.filters })\n      }\n    },\n    getPriceSortLabel(value) {\n      const option = this.priceOptions.find(item => item.value === value)\n      return option ? option.label : ''\n    },\n    getDateSortLabel(value) {\n      const option = this.dateOptions.find(item => item.value === value)\n      return option ? option.label : ''\n    },\n    getProductTypeLabel(value) {\n      const option = this.productTypes.find(item => item.value === value)\n      return option ? option.label : ''\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../styles/theme.scss';\n\n.filter-bar-container {\n  width: 100%;\n  position: relative;\n}\n\n.filter-header {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 16rpx 24rpx;\n  background-color: #fff;\n  position: relative;\n}\n\n.filter-title {\n  font-size: 28rpx;\n  color: $text-primary;\n  font-weight: 500;\n}\n\n.filter-icon {\n  font-size: 24rpx;\n  color: $text-primary;\n  margin-left: 8rpx;\n  transition: transform 0.3s;\n}\n\n.active-badge {\n  position: absolute;\n  width: 12rpx;\n  height: 12rpx;\n  background-color: $primary-color;\n  border-radius: 50%;\n  right: 20rpx;\n  top: 16rpx;\n}\n\n/* 抽屉样式 */\n.filter-drawer {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  z-index: 1000;\n  pointer-events: none;\n}\n\n.drawer-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  pointer-events: auto;\n}\n\n.drawer-content {\n  position: absolute;\n  top: 0;\n  right: -80%;\n  width: 80%;\n  height: 100%;\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  transition: right 0.3s ease-out;\n  pointer-events: auto;\n}\n\n.drawer-open {\n  pointer-events: auto;\n  \n  .drawer-content {\n    right: 0;\n  }\n}\n\n.drawer-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30rpx 24rpx;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.drawer-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: $text-primary;\n}\n\n.close-icon {\n  font-size: 40rpx;\n  color: $text-secondary;\n  padding: 10rpx;\n}\n\n.filter-section {\n  padding: 24rpx;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.section-title {\n  font-size: 28rpx;\n  font-weight: 500;\n  color: $text-primary;\n  margin-bottom: 20rpx;\n  display: block;\n}\n\n.option-list {\n  display: flex;\n  flex-direction: column;\n}\n\n.option-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 16rpx 10rpx;\n  border-radius: 8rpx;\n  transition: background-color 0.3s;\n  \n  &.active {\n    background-color: rgba($primary-color, 0.1);\n    \n    .option-text {\n      color: $primary-color;\n      font-weight: 500;\n    }\n  }\n}\n\n.option-text {\n  font-size: 26rpx;\n  color: $text-primary;\n}\n\n.check-icon {\n  font-size: 28rpx;\n  color: $primary-color;\n}\n\n.tag-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16rpx;\n}\n\n.filter-tag {\n  padding: 10rpx 20rpx;\n  background-color: #f5f5f5;\n  border-radius: 30rpx;\n  font-size: 24rpx;\n  color: $text-secondary;\n  display: inline-flex;\n  align-items: center;\n  transition: all 0.3s;\n  \n  &.active {\n    background-color: rgba($primary-color, 0.1);\n    color: $primary-color;\n    border: 1px solid rgba($primary-color, 0.3);\n  }\n}\n\n.range-slider {\n  padding: 10rpx 0;\n}\n\n.range-values {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20rpx;\n  font-size: 24rpx;\n  color: $text-secondary;\n}\n\n.slider {\n  margin: 16rpx 0;\n}\n\n.drawer-footer {\n  margin-top: auto;\n  padding: 24rpx;\n  display: flex;\n  gap: 16rpx;\n  border-top: 1px solid #f0f0f0;\n}\n\n.reset-btn {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 40rpx;\n  background-color: #f5f5f5;\n  color: $text-primary;\n  font-size: 28rpx;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.apply-btn {\n  flex: 2;\n  height: 80rpx;\n  border-radius: 40rpx;\n  background-color: $primary-color;\n  color: #ffffff;\n  font-size: 28rpx;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* 激活的筛选条件标签 */\n.active-filters {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 10rpx 16rpx;\n  gap: 12rpx;\n  background-color: #fff;\n  border-top: 1px solid #f0f0f0;\n}\n\n.tag-close {\n  font-size: 24rpx;\n  margin-left: 8rpx;\n}\n</style> ","import Component from 'D:/orderMySelf/product-price/product-price/components/FilterBar.vue'\nwx.createComponent(Component)"],"names":[],"mappings":"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"}